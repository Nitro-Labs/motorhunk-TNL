{
  "version": 3,
  "sources": ["../../app/scripts/cart-notify.js"],
  "sourcesContent": ["(() => {\r\n  let template = document.getElementById(\"template-cart-notify\");\r\n  let container = template.content.firstElementChild;\r\n  template.insertAdjacentElement(\"beforebegin\", container);\r\n  template.remove();\r\n  let btnClose = container.getElementsByClassName(\"js-modal-close\");\r\n  let imageElm = container.querySelector(\".js-image\");\r\n  let qtyElm = container.querySelector(\".js-qty\");\r\n  let itemTotalMoneyElm = container.querySelector(\".js-item-total-money\");\r\n  let cartTotalMoneyElm = container.querySelector(\".js-cart-total-money\");\r\n  if (typeof Currencies !== \"undefined\") {\r\n    Currencies.registerObserve(itemTotalMoneyElm);\r\n    Currencies.registerObserve(cartTotalMoneyElm);\r\n  }\r\n  let cartTotalNumberElm = container.querySelector(\".js-cart-number\");\r\n  let nameElement = container.querySelector(\".js-name\");\r\n\r\n  Cart.notify = {\r\n    show: (product) => {\r\n      let cartTotal =\r\n        Cart.value.items.reduce((accu, value) => {\r\n          value.id !== product.id && (accu += value.final_line_price);\r\n          return accu;\r\n        }, 0) + product.final_line_price;\r\n\r\n      let cartNumberTotal =\r\n        Cart.value.items.reduce((accu, value) => {\r\n          value.id !== product.id && (accu += value.quantity);\r\n          return accu;\r\n        }, 0) + product.quantity;\r\n      imageElm.src = AT.getSizedImageUrl(\r\n        product.featured_image\r\n          ? product.featured_image.url\r\n            ? product.featured_image.url\r\n            : theme.assets.defaultImage\r\n          : theme.assets.defaultImage,\r\n        \"200x\",\r\n      );\r\n      imageElm.alt = product.product_title;\r\n      nameElement.innerHTML = product.product_title;\r\n      qtyElm.innerHTML = product.quantity;\r\n\r\n      if (typeof Currencies !== \"undefined\") {\r\n        itemTotalMoneyElm.setAttribute(\"data-money\", product.final_line_price);\r\n        cartTotalMoneyElm.setAttribute(\"data-money\", cartTotal);\r\n      } else {\r\n        itemTotalMoneyElm.innerHTML = product.final_line_price.toCurrency();\r\n        cartTotalMoneyElm.innerHTML = cartTotal.toCurrency();\r\n      }\r\n      cartTotalNumberElm.innerHTML =\r\n        cartNumberTotal > 1\r\n          ? theme.strings.cartNumbers.replace(\"{{count}}\", cartNumberTotal)\r\n          : theme.strings.cartNumber.replace(\"{{count}}\", cartNumberTotal);\r\n      AT.disableScroll();\r\n      container.addClass(\"is-open\");\r\n    },\r\n    close: () => {\r\n      AT.enableScroll();\r\n      container.removeClass(\"is-open\");\r\n      AT.debounce(() => {\r\n        imageElm.src = \"\";\r\n      }, 200)();\r\n    },\r\n  };\r\n  btnClose.addEvents(\"click\", Cart.notify.close);\r\n})();\r\n"],
  "mappings": "MAAA,AAAC,KAAM,CACL,GAAI,GAAW,SAAS,eAAe,wBACnC,EAAY,EAAS,QAAQ,kBACjC,EAAS,sBAAsB,cAAe,GAC9C,EAAS,SACT,GAAI,GAAW,EAAU,uBAAuB,kBAC5C,EAAW,EAAU,cAAc,aACnC,EAAS,EAAU,cAAc,WACjC,EAAoB,EAAU,cAAc,wBAC5C,EAAoB,EAAU,cAAc,wBAChD,AAAI,MAAO,aAAe,aACxB,YAAW,gBAAgB,GAC3B,WAAW,gBAAgB,IAE7B,GAAI,GAAqB,EAAU,cAAc,mBAC7C,EAAc,EAAU,cAAc,YAE1C,KAAK,OAAS,CACZ,KAAM,AAAC,GAAY,CACjB,GAAI,GACF,KAAK,MAAM,MAAM,OAAO,CAAC,EAAM,IAC7B,GAAM,KAAO,EAAQ,IAAO,IAAQ,EAAM,kBACnC,GACN,GAAK,EAAQ,iBAEd,EACF,KAAK,MAAM,MAAM,OAAO,CAAC,EAAM,IAC7B,GAAM,KAAO,EAAQ,IAAO,IAAQ,EAAM,UACnC,GACN,GAAK,EAAQ,SAClB,EAAS,IAAM,GAAG,iBAChB,EAAQ,gBACJ,EAAQ,eAAe,IACrB,EAAQ,eAAe,IAEzB,MAAM,OAAO,aACjB,QAEF,EAAS,IAAM,EAAQ,cACvB,EAAY,UAAY,EAAQ,cAChC,EAAO,UAAY,EAAQ,SAE3B,AAAI,MAAO,aAAe,YACxB,GAAkB,aAAa,aAAc,EAAQ,kBACrD,EAAkB,aAAa,aAAc,IAE7C,GAAkB,UAAY,EAAQ,iBAAiB,aACvD,EAAkB,UAAY,EAAU,cAE1C,EAAmB,UACjB,EAAkB,EACd,MAAM,QAAQ,YAAY,QAAQ,YAAa,GAC/C,MAAM,QAAQ,WAAW,QAAQ,YAAa,GACpD,GAAG,gBACH,EAAU,SAAS,YAErB,MAAO,IAAM,CACX,GAAG,eACH,EAAU,YAAY,WACtB,GAAG,SAAS,IAAM,CAChB,EAAS,IAAM,IACd,SAGP,EAAS,UAAU,QAAS,KAAK,OAAO",
  "names": []
}
